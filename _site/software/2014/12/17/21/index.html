<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
    
  <!-- Enable responsiveness on mobile devices-->
  <!--<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">-->
 

  <title>
    
      GStreamer Typefinding and Dynamic Pipelines - Part 2 &middot; 
      pyVision
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/pyVision/public/css/poole.css">
  <link rel="stylesheet" href="/pyVision/public/css/syntax.css">
  <link rel="stylesheet" href="/pyVision/public/css/lanyon.css">
  <!--<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">-->
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/pyVisionpublic/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/pyVisionpublic/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">


<script src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
<script type="text/x-mathjax-config">
   MathJax.Hub.Config({ 
                config: ["MMLorHTML.js"], 
                extensions: ["tex2jax.js","TeX/AMSmath.js","TeX/AMSsymbols.js"], 
                jax: ["input/TeX"], 
                tex2jax: { 
                    inlineMath: [ ['$','$'], ["\\(","\\)"] ], 
                    displayMath: [ ['$$','$$'], ["\\[","\\]"] ], 
                    processEscapes: false 
                }, 
                TeX: { 
                    TagSide: "right", 
                    TagIndent: ".8em", 
                    MultLineWidth: "85%", 
                    equationNumbers: { 
                       autoNumber: "AMS", 
                    }, 
                    unicode: { 
                       fonts: "STIXGeneral,'Arial Unicode MS'" 
                    } 
                }, 
                showProcessingMessages: false 
            }); 
</script>
<!--<script src="/pyVision/javascripts/gitdata.js"></script>-->
	<script type="text/javascript">
    	$(function() {
        $("#display-projects").getRepos("pi19404"); //Add your github username.
    	});
	</script>
<script type="text/javascript"
    src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<link href='http://alexgorbatchev.com/pub/sh/2.1.364/styles/shCore.css' rel='stylesheet' type='text/css'/> 
<link href='http://alexgorbatchev.com/pub/sh/2.1.364/styles/shThemeDefault.css' rel='stylesheet' type='text/css'/> 
<script src='http://alexgorbatchev.com/pub/sh/2.1.364/scripts/shCore.js' type='text/javascript' > </script>
<script src='http://alexgorbatchev.com/pub/sh/2.1.364/scripts/shBrushCpp.js' type='text/javascript' > </script>
<script src='http://alexgorbatchev.com/pub/sh/2.1.364/scripts/shBrushCSharp.js' type='text/javascript' > </script>
<script src='http://alexgorbatchev.com/pub/sh/2.1.364/scripts/shBrushCss.js' type='text/javascript' > </script>
<script src='http://alexgorbatchev.com/pub/sh/2.1.364/scripts/shBrushJava.js' type='text/javascript' > </script>
<script src='http://alexgorbatchev.com/pub/sh/2.1.364/scripts/shBrushJScript.js' type='text/javascript' /> </script>
<script src='http://alexgorbatchev.com/pub/sh/2.1.364/scripts/shBrushPhp.js' type='text/javascript' > </script>
<script src='http://alexgorbatchev.com/pub/sh/2.1.364/scripts/shBrushPython.js' type='text/javascript' > </script>
<script src='http://alexgorbatchev.com/pub/sh/2.1.364/scripts/shBrushRuby.js' type='text/javascript' > </script>
<script src='http://alexgorbatchev.com/pub/sh/2.1.364/scripts/shBrushSql.js' type='text/javascript' > </script>
<script src='http://alexgorbatchev.com/pub/sh/2.1.364/scripts/shBrushVb.js' type='text/javascript' > </script>
<script src='http://alexgorbatchev.com/pub/sh/2.1.364/scripts/shBrushXml.js' type='text/javascript' > </script>
<script src='http://alexgorbatchev.com/pub/sh/2.1.364/scripts/shBrushPerl.js' type='text/javascript' > </script>
<script language='javascript'> 
SyntaxHighlighter.config.bloggerMode = false;
SyntaxHighlighter.all();
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-38535188-2', 'auto');
  ga('send', 'pageview');

</script>
</head>


  <body>

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">





  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/pyVision/">Home </a>

    

    
    
      
        
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="/pyVision//about/">About</a>
        
      
    
      
    
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
    
      
    

    <!-- <a class="sidebar-nav-item" href="http://www.github.com/pi19404/pyVision/zipball/master">Download</a>
    <a class="sidebar-nav-item" href="http://www.github.com/pi19404/pyVision">GitHub project</a> -->
    <!-- <a class="sidebar-nav-item" ><g:plusone size="medium">Categories</g:plusone> </a> -->

    <div >
      <nav class="sidebar-nav-item">
        <g:plusone size="medium">Categories</g:plusone>
        
        
         
         <a class="sidebar-nav-item" href="/pyVision/category1/ai">
            AI
         </a>
        
         
         <a class="sidebar-nav-item" href="/pyVision/category1/embedded-firmware">
            Embedded Firmware
         </a>
        
         
         <a class="sidebar-nav-item" href="/pyVision/category1/linux">
            Linux
         </a>
        
         
         <a class="sidebar-nav-item" href="/pyVision/category1/raspberry-pi">
            Raspberry PI
         </a>
        
         
         <a class="sidebar-nav-item" href="/pyVision/category1/signal-processing">
            Signal Processing
         </a>
        
         
         <a class="sidebar-nav-item" href="/pyVision/category1/software">
            Software
         </a>
        
         
         <a class="sidebar-nav-item" href="/pyVision/category1/software-installation">
            Software Installation
         </a>
        
         
         <a class="sidebar-nav-item" href="/pyVision/category1/software-installation">
            Software installation
         </a>
        
      </nav>
    
    </div>
    <!-- <div>
      <ul>
        
        
        <li><a href="/pyVision//category/AI/index.html">AI</a></li>
        
        
        <li><a href="/pyVision//category/Signal+Processing/index.html">Signal Processing</a></li>
        
        
        <li><a href="/pyVision//category/Raspberry+PI/index.html">Raspberry PI</a></li>
        
        
        <li><a href="/pyVision//category/Linux/index.html">Linux</a></li>
        
        
        <li><a href="/pyVision//category/Software/index.html">Software</a></li>
        
        
        <li><a href="/pyVision//category/Embedded+Firmware/index.html">Embedded Firmware</a></li>
        
        
        <li><a href="/pyVision//category/Software+Installation/index.html">Software Installation</a></li>
        
        
        <li><a href="/pyVision//category/Software+installation/index.html">Software installation</a></li>
        
        </ul>
    
    </div> -->
<a class="sidebar-nav-item" >
<div class='g-person' data-href='https://plus.google.com/115840780257908006648' data-layout='landscape' data-rel='author' data-showcoverphoto='false' data-showtagline='false' data-theme='dark' data-width='100'></a>
</div>

<div class='widget-content'>
<script type="text/javascript" src="http://jj.revolvermaps.com/2/1.js?i=9bj6dpaloim&amp;s=220&amp;m=7&amp;v=true&amp;r=true&amp;b=ffffff&amp;n=false&amp;c=ff0000" async="async"></script>
</div>

<script type="text/javascript">
function cantload() {
img = document.getElementById("clustrMapsImg");
img.onerror = null;
img.src = "http://www2.clustrmaps.com/images/clustrmaps-back-soon.jpg";
document.getElementById("clustrMapsLink").href = "http://www2.clustrmaps.com";
}
img = document.getElementById("clustrMapsImg");
img.onerror = cantload;
</script>
<div class='widget-content'>
<div id="clustrmaps-widget"></div><script type="text/javascript">var _clustrmaps = {'url' : 'http://pi-virtualworld.blogspot.com', 'user' : 1165875, 'server' : '3', 'id' : 'clustrmaps-widget', 'version' : 1, 'date' : '2015-04-05', 'lang' : 'en', 'corners' : 'square' };(function (){ var s = document.createElement('script'); s.type = 'text/javascript'; s.async = true; s.src = 'http://www3.clustrmaps.com/counter/map.js'; var x = document.getElementsByTagName('script')[0]; x.parentNode.insertBefore(s, x);})();</script><noscript><a href="http://www3.clustrmaps.com/user/ace11ca33"><img src="http://www3.clustrmaps.com/stats/maps-no_clusters/pi-virtualworld.blogspot.com-thumb.jpg" alt="Locations of visitors to this page" /></a></noscript>
</a>

<!-- Copyright (c)2009 Site Meter -->


</div>

<div class='widget-content'>
<script type="text/javascript" src="http://feedjit.com/serve/?vv=1022&amp;tft=3&amp;dd=0&amp;wid=f31e21a2d981f025&amp;pid=0&amp;proid=0&amp;bc=000000&amp;tc=F5F5F5&amp;brd1=454545&amp;lnk=C95050&amp;hc=FFFFFF&amp;hfc=5C5A5A&amp;btn=8A0214&amp;ww=200&amp;went=10"></script><noscript><a href="http://feedjit.com/">Feedjit Live Blog Stats</a></noscript>
</div>
 
<!-- Site Meter -->
<script type="text/javascript" src="http://s30.sitemeter.com/js/counter.js?site=s30pi19404">
</script>
<noscript>
<a href="http://s30.sitemeter.com/stats.asp?site=s30pi19404" target="_top">
<img src="http://s30.sitemeter.com/meter.asp?site=s30pi19404" alt="Site Meter" border="0"/></a>
</noscript>   
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2022. All rights reserved.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      
        <div class="container">
          <h1 class="header">
            <a href="/" title="Home">pyVision</a></br>
            <small>A Machine Learning and Signal Processing toolbox</small>
          </h1>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/pi19404/pyVision/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/pi19404/pyVision/tarball/master" id="download-tar-gz" class="button"><span>Download.tar.gz</span></a>
          <a href="https://github.com/pi19404/pyVision" id="view-on-github" class="button"><span>View on GitHub</span></a>
		
	   <hr>
          </section>
    
	</br>	</br>
      <div class="content">
        <article class="post">
  <h1 class="post-title">GStreamer Typefinding and Dynamic Pipelines - Part 2</h1>
  <span class="post-date">17 Dec 2014</span>
  <p>###Introduction</p>

<p>In this tutorial we see how to build dynamic piplines and its application towards playing a video file.</p>

<p>We will see how to identify the type of source stream being proceed and dynamically build a pipeline to handle the stream.</p>

<h3 id="reading-the-source-stream">Reading the Source Stream</h3>
<p>Let us consider a example that we want to play a WebM video file</p>

<p>Typically for steps in displaying an video file would be</p>

<ul>
  <li>Reading the Source</li>
  <li>DeMultiplex audio and video channels</li>
  <li>Decode the video and audio</li>
  <li>Convert video into a format that can be displayed</li>
  <li>Display - Render the video frames on screen</li>
</ul>

<p>Typicall a Video stream will contains individual video,audio and sub-title streams. The job of demultipler is to provide access to these individual streams so that they can be processed accordingly.</p>

<p>In the decoding step encoded  video and audio streams are passed to video and audio decoder.</p>

<p>Next the decoded raw video streams are converted to a format suitable for display and finally video and audio streams are passed to respective video and audio sinks .</p>

<p><img src="http:/pi19404.github.io/pyVision/images/others/gst2.png" alt="enter image description here" /></p>

<p>In this article we will only look at flow of video streams.</p>

<p>We define a structure to hold all the information</p>

<pre class="brush:cpp">

/* Structure to contain all our information, so we can pass it to callbacks */
typedef struct _CustomData {
  GstElement *pipeline;
  GstElement *source;
  GstElement *typefinder;
  GstElement *demux;
  GstElement *decoder;
  GstElement *convert;
  GstElement *sink;
} CustomData;


</pre>

<h4 id="source-type"><strong>Source Type</strong></h4>

<p>In the present application we are going to create GStreamer source element from URI passed by the user</p>

<pre class="brush:cpp ">

data.source = gst_element_make_from_uri (GST_URI_SRC,"file:/home/pi19404/Downloads/sample.webm" ,NULL);

g_print("GStreamer Source Type %s \n",GST_ELEMENT_NAME (data.source));
</pre>

<p>Since the passed URI is a file location data.source will of GStreamer Element of type <code class="language-plaintext highlighter-rouge">filesrc</code></p>

<h4 id="gstreamer-pads"><strong>Gstreamer Pads</strong></h4>
<p>The primary complexity in gstreamer applications is that different types of input streams need to be handled differently.</p>

<p>Even demultiplexing techniques of streams need to be handled differently.To this we need a mechanism to analyse the type of source dynamically.</p>

<p>Gstreams provides mechanism called as <code class="language-plaintext highlighter-rouge">pads</code> which are the element’s interface to the outside world.
Data streams from one element’s source pad to another element’s sink pad.</p>

<p>A pad type is defined by two properties: its direction and its availability.GStreamer defines two pad directions: source pads and sink pads.The elements receive data on their sink pads and generate data on their source pads.</p>

<p>A pad can have any of three availabilities: always, sometimes and on request.In case of some Gstreamer Elements the pads are are created during element creation/initialization and are always available.</p>

<p>Pads are created from Pad Templates specified for Gstreamer Elements.</p>

<p>we can see the pads associated with element using <code class="language-plaintext highlighter-rouge">gst-inspect</code> tool.
Let us look at the pads available in <code class="language-plaintext highlighter-rouge">uridecodebin</code> element</p>

<pre class="brush:python">

Pad Templates:
  SRC template: 'src%d'
    Availability: Sometimes
    Capabilities:
      ANY

</pre>

<p>We can see that element has a source pad and is only available <code class="language-plaintext highlighter-rouge">Sometimes</code>.</p>

<p>Typically such pads are created during runtime.The <code class="language-plaintext highlighter-rouge">uridecodebin</code> element will analyze the input stream before creating the source pads that can link to other elements.</p>

<p>In the present application the source is off type <code class="language-plaintext highlighter-rouge">filesrc</code></p>

<pre class="brush:python">

Pad Templates:
  SRC template: 'src'
    Availability: Always
    Capabilities:
      ANY

</pre>

<p>We can see that the pad is always present can be immediately form a like to next element of the pipeline</p>

<h4 id="gstreamer-typefind-element"><strong>Gstreamer TypeFind Element</strong></h4>
<p>The filesrc element, for example, does not know what type of file it is reading. Before you can attach an element to the pad of the filesrc, you need to determine the media type in order to be able to choose a compatible element.</p>

<p>To solve this problem, a plugin can provide the GStreamer core library with a typedefinition library with a typedefinition.</p>

<p>GStreamer uses the typefinding library to determine the video stream type.GStreamer  will read data for as long as the type of a stream is unknown.During this period, it will provide data to all typefind functions for all plugins .</p>

<p>This typefind function will inspect a GstBuffer with data and will output a GstCaps structure describing the type. If the typefind function does not understand the buffer contents, it will return NULL.</p>

<p>GStreamer has a <code class="language-plaintext highlighter-rouge">typefind element</code> in its core elements that can be used to determine the type of a given pad.</p>

<pre class="brush:cpp">

  /* create the typefind element */
  data.typefind = gst_element_factory_make ("typefind", "typefind");
  g_assert (data.typefind != NULL);

/* Adding Elements to List */
gst_bin_add_many (GST_BIN (data.pipeline),data.source,data.typefinder,NULL);

/*link source and typefind elements */
if (!gst_element_link (data.source, data.typefinder)) {
    g_printerr ("Elements could not be linked.\n");
    gst_object_unref (data.pipeline);
    return -1;
  }

</pre>

<h4 id="gstreamer-signals"><strong>GStreamer Signals</strong></h4>
<p>Gstreamer provides signalling which is a general purpose notification mechanism  that can be used as tool for customization object behavior.</p>

<p>Signals allow the application to notified by means of a callback when something interesting has happened. Signals are identified by a name, and each GObject has its own signals.</p>

<p>For example when the <code class="language-plaintext highlighter-rouge">typefind function</code> associated with a plugin recognizes a video stream it uses signaling mechanism to notify the application . We can capture the event and run used defined code upon notification of occurrence of the event.</p>

<pre class="brush:cpp">

/* Connect to the typefind signal */
g_signal_connect (data.typefinder, "have-type", G_CALLBACK (cb_typefound), &amp;data);


static void
cb_typefound (GstElement *typefind,
	      guint       probability,
	      GstCaps    *caps,
	      CustomData    data)
{
  gchar *type;

  type = gst_caps_to_string (caps);
  g_print ("Media type %s found, probability %d%%\n", type, probability);
  g_free (type);


}


</pre>

<p><code class="language-plaintext highlighter-rouge">g_signal_connect</code> function attaches a signal handler<code class="language-plaintext highlighter-rouge">(  g_signal_connect  )</code> to an GStreamer element <code class="language-plaintext highlighter-rouge">(data.typefinder = typefind )</code>  to inform the application via callback function <code class="language-plaintext highlighter-rouge">(cb_typefound)</code> when the type of input stream been determined .</p>

<p>Once we determine the media type we know the elements that are required to be used in the pipeline
In the example we are going to use Web Stream</p>

<p>The Demuxer element type is <code class="language-plaintext highlighter-rouge">matroskademux</code> which  Demuxes Matroska/WebM streams into video/audio/subtitles.</p>

<p>Decoder element is <code class="language-plaintext highlighter-rouge">vp8dec</code> that is capable for decoding the <code class="language-plaintext highlighter-rouge">webm</code> format video into raw image format</p>

<p>we can also establish the link of typefinder with demuxer element and the decoder with converter and sink.</p>

<pre class="brush:cpp">


  if (strcmp(type,"video/webm")==0)
  {
	  data-&gt;demux=gst_element_factory_make ("matroskademux", "demux");
	  data-&gt;decoder=gst_element_factory_make ("vp8dec", "decoder");

	  if (gst_element_link (data-&gt;typefinder, data-&gt;demux) !=TRUE || gst_element_link_many (data-&gt;decoder, data-&gt;filter,sink,NULL) !=TRUE) {
	  g_printerr ("Elements could not be linked.\n");
	  gst_object_unref (data-&gt;pipeline);
	  return ;
	  }
   
  }
  
</pre>

<h4 id="gstreamer-demultiplexer"><strong>Gstreamer Demultiplexer</strong></h4>

<p>Demuxers do not have any pads till they receive the buffers to parse. As data is available to parse, pads are dynamically added based on the streams available.</p>

<p>A demuxer contains one sink pad, through which the muxed data arrives, and multiple source pads, one for each stream found in the container:</p>

<p><img src="http:/pi19404.github.io/pyVision/images/others/gst3.png" alt="enter image description here" /></p>

<p>The primary complexity when dealing with demuxers is that they cannot produce any information until they have received some data and have analyzed the type of stream.</p>

<p>Initially when the pipeline is set to run the demuxer does not have any source pads to which other units can link hence the pipeline terminates at the demuxer,</p>

<p>However when the demuxer has received sufficient data to know the type of streams it will create the source pads.This is a time when pipeline can be completed.</p>

<p>The gstreamer provides us a facility to set up a  callback function at this point.
The pipeline from the demux to decoder can be configured and complete pipeline can be established.</p>

<p>Again gstreamer provides us a singalling mechanism to reveive notification when demuxer has parsed the data and source pads are created.The signal type to be captured is “pad-added”</p>

<p>Thus the idea is to build the pipeline from the source down to the demuxer, and set it to run .
When the demuxer has received enough information to know about the number and kind of streams in the container, it will start creating source pads.This is the right time for us to finish building the pipeline and attach it to the newly added demuxer pads.</p>

<p>Since only link till the <code class="language-plaintext highlighter-rouge">typefinder</code> as created earlier and no element is connected to the source pads of <code class="language-plaintext highlighter-rouge">typefind</code> elements the GStreamer pipeline sees that pipeline has terminated and enters the  PAUSED state.</p>

<p>Thus after linking the GStreamer Demux elements the pipeline proceedes futher by changing its state from PAUSED to PLAYING</p>

<pre class="brush:cpp">

  /* Connect to the pad-added signal */
  g_signal_connect (data.demux, "pad-added", G_CALLBACK (pad_added_handler), data);

static void
pad_added_handler (GstElement *element,
              GstPad     *pad,
              CustomData    *data)
{
  GstPad *sinkpad;

  /* We can now link this pad with the vorbis-decoder sink pad */
  g_print ("Dynamic pad created, linking demuxer/decoder\n");

 /*Get the sink pad of the decoder element */
  sinkpad = gst_element_get_static_pad (data-&gt;decoder, "sink");

/*link the newly created source pads with decoder sink pads */
  gst_pad_link (pad,sinkpad);

  gst_object_unref (sinkpad);
}

</pre>

<h3 id="debug-output">Debug Output</h3>

<p>The Gstreamer provides mechanism to observe debug output messages.
The <code class="language-plaintext highlighter-rouge">GST_DEBUG</code> environment variable sets the logging level with 0 being lowest to 5 being the highest.
We can export the environment variable to get the detailed output</p>
<pre class="bruch:python">
 
 # export GST_DEBUG=3
 # ./example3

0:00:00.000276094  3334      0x108a600 INFO                GST_INIT gst.c:613:init_pre: Initializing GStreamer Core Library version 0.10.36
0:00:00.000474378  3334      0x108a600 INFO                GST_INIT gst.c:614:init_pre: Using library installed in /usr/lib/x86_64-linux-gnu
0:00:00.000548656  3334      0x108a600 INFO                GST_INIT gst.c:624:init_pre: Linux prasad-TA790GX-A3 3.11.0-15-generic #25~precise1-Ubuntu SMP Thu Jan 30 17:39:31 UTC 2014 x86_64
0:00:00.000835787  3334      0x108a600 INFO                GST_INIT gstquery.c:107:_gst_query_initialize: init queries
0:00:00.002662900  3334      0x108a600 INFO                GST_INIT gstmessage.c:73:_gst_message_initialize: init messages
0:00:00.003684321  3334      0x108a600 INFO      GST_PLUGIN_LOADING gstplugin.c:350:_gst_plugin_initialize: registering 0 static plugins
0:00:00.004054157  3334      0x108a600 INFO      GST_PLUGIN_LOADING gstplugin.c:255:gst_plugin_register_static: registered static plugin "staticelements"
0:00:00.004125636  3334      0x108a600 INFO      GST_PLUGIN_LOADING gstplugin.c:257:gst_plugin_register_static: added static plugin "staticelements", result: 1
0:00:00.005255415  3334      0x108a600 INFO            GST_REGISTRY gstregistry.c:1672:ensure_current_registry: reading registry cache: /home/pi19404/.gstreamer-0.10/registry.x86_64.bin
0:00:00.020256731  3334      0x108a600 INFO            GST_REGISTRY gstregistrybinary.c:614:gst_registry_binary_read_cache: loaded /home/pi19404/.gstreamer-0.10/registry.x86_64.bin in 0.014912 seconds
0:00:00.020330088  3334      0x108a600 INFO            GST_REGISTRY gstregistry.c:1522:scan_and_update_registry: Validating plugins from registry cache: /home/pi19404/.gstreamer-0.10/registry.x86_64.bin
0:00:00.021159862  3334      0x108a600 INFO            GST_REGISTRY gstregistry.c:1634:scan_and_update_registry: Registry cache has not changed
0:00:00.021181003  3334      0x108a600 INFO            GST_REGISTRY gstregistry.c:1707:ensure_current_registry: registry reading and updating done, result = 1
0:00:00.021192969  3334      0x108a600 INFO                GST_INIT gst.c:805:init_post: GLib runtime version: 2.32.4
0:00:00.021205269  3334      0x108a600 INFO                GST_INIT gst.c:807:init_post: GLib headers version: 2.32.0
0:00:00.021221264  3334      0x108a600 INFO                GST_INIT gst.c:456:gst_init_check: initialized GStreamer successfully
0:00:00.021790040  3334      0x108a600 INFO      GST_PLUGIN_LOADING gstplugin.c:859:gst_plugin_load_file: plugin "/usr/lib/x86_64-linux-gnu/gstreamer-0.10/libgstcoreelements.so" loaded
0:00:00.021820224  3334      0x108a600 INFO     GST_ELEMENT_FACTORY gstelementfactory.c:376:gst_element_factory_create: creating element "filesrc"
0:00:00.021957404  3334      0x108a600 INFO        GST_ELEMENT_PADS gstelement.c:728:gst_element_add_pad:&lt;GstBaseSrc@0x1254040&gt; adding pad 'src'
0:00:00.021992128  3334      0x108a600 INFO                 filesrc gstfilesrc.c:374:gst_file_src_set_location: filename : /home/pi19404/Downloads/sample.webm
0:00:00.022004967  3334      0x108a600 INFO                 filesrc gstfilesrc.c:375:gst_file_src_set_location: uri      : file:///home/pi19404/Downloads/sample.webm
0:00:00.022058217  3334      0x108a600 INFO     GST_ELEMENT_FACTORY gstelementfactory.c:374:gst_element_factory_create: creating element "typefind" named "typefind"
0:00:00.022136507  3334      0x108a600 INFO        GST_ELEMENT_PADS gstelement.c:728:gst_element_add_pad:&lt;GstTypeFindElement@0x11c72b0&gt; adding pad 'sink'
0:00:00.022174432  3334      0x108a600 INFO        GST_ELEMENT_PADS gstelement.c:728:gst_element_add_pad:&lt;GstTypeFindElement@0x11c72b0&gt; adding pad 'src'
GStreamer Source Type filesrc0 
0:00:00.022326110  3334      0x108a600 INFO      GST_PLUGIN_LOADING gstplugin.c:859:gst_plugin_load_file: plugin "/usr/lib/x86_64-linux-gnu/gstreamer-0.10/libgstautodetect.so" loaded
0:00:00.022343305  3334      0x108a600 INFO     GST_ELEMENT_FACTORY gstelementfactory.c:374:gst_element_factory_create: creating element "autovideosink" named "sink"
0:00:00.022450911  3334      0x108a600 INFO        GST_ELEMENT_PADS gstelement.c:728:gst_element_add_pad:&lt;GstAutoVideoSink@0x1257010&gt; adding pad 'sink'
0:00:00.022466793  3334      0x108a600 INFO     GST_ELEMENT_FACTORY gstelementfactory.c:374:gst_element_factory_create: creating element "fakesink" named "tempsink"

</pre>

<p>###Code</p>

<p>The file containing the code is <code class="language-plaintext highlighter-rouge">example3.c</code>.The compilation command for the same is as below</p>

<pre class="brush:cpp">

gcc example3.c -o example3 `pkg-config --cflags --libs gstreamer-0.10` -g

./example3
</pre>

<p>The code mentioned in the article can be found in pi19404 <a href="https://github.com/pi19404/tutorials">tutorials</a> github repository at path</p>

<ul>
  <li>gst/example3.c</li>
</ul>

<p>The webM video files can be found at</p>

<ul>
  <li>http://docs.gstreamer.com/media/sintel_trailer-480p.webm</li>
  <li>http://www.http://pi19404.github.io/pyVision/media/others/sample.webm</li>
</ul>


</article>
<div id="page-navigation"> 
        <div class="clear">&nbsp;</div> 
        <div class="left"> 
         
                <a href="/pyVision//software/2014/12/14/20/" title="Previous Post: 
Basics of GStreamer - Part 1">&laquo; Basics of GStreamer - Part 1</a> 
         
        </div> 

        <div class="right"> 
         
                <a href="/pyVision//signal%20processing/2014/12/21/21/" title="next Post: 
Conjugate Quadrature Filter Bank - Deriving Daubechies Filter Coefficients">Conjugate Quadrature Filter Bank - Deriving Daubechies Filter Coefficients &raquo; </a> 
         
        </div> 
        <div class="clear">&nbsp;</div> 
</div> 
<div id="disqus_thread"></div>
		<script type="text/javascript">
			/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
			var disqus_shortname = 'pi19404'; // required: replace example with your forum shortname
    			var disqus_identifier = '/software/2014/12/17/21/';
    			var disqus_url = 'http://pyvision.github.com/software/2014/12/17/21/';       
 
			/* * * DON'T EDIT BELOW THIS LINE * * */
			(function() {
				var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
				dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
				(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
			})();
		</script>
		<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
		<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>





      </div>
    </div>

      
       <footer>
          pyVision is maintained by <a href="https://github.com/pi19404">pi19404</a><br>
        </footer>
    
    </div>
 <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = true;
        }, false);
      })(document);
    </script>
<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>
    <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'pyvision'; // required: replace example with your forum shortname
    var disqus_identifier = '/software/2014/12/17/21/';
    var disqus_url = 'http://pyvision.github.com/software/2014/12/17/21/';
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
    </script>

  </body>
</html>
